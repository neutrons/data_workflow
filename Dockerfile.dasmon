FROM ubuntu:18.04

ARG TERM=linux
ARG DEBIAN_FRONTEND=noninteractive

RUN apt -y update && \
    apt -y upgrade

RUN apt install -y \
    python3-django \
    python3-stomp \
    python3-psycopg2 \
    postgresql \
    build-essential \
    python3-setuptools

WORKDIR /usr/src/data_workflow
COPY ./src/. .
COPY README.md .

# Only do this for testing, comment out for production
RUN echo 'brokers = [("activemq", 61613)]' > dasmon_listener/local_settings.py
